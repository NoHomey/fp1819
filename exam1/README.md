# Подготовка за Контролно 1

## Задачи

1. [Примерна тема за контролно](https://learn.fmi.uni-sofia.bg/mod/page/view.php?id=110489)   
Да се напише функция middle-digit, която намира средната цифра от записа на подадено естествено число n. Ако n е с четен брой цифри, функцията връща -1.

  ```scheme
  (middle-digit 452)    ;; връща  5
  (middle-digit 4712)   ;; връща -1
  ```
2. [Примерна тема за контролно](https://learn.fmi.uni-sofia.bg/mod/page/view.php?id=110489)  
Нека е даден списък l от числа и двуместна операция над числа ⊕. Функцията f наричаме “ендоморфизъм над l”, ако f трансформира l в себе си, запазвайки операцията ⊕, т.е. ∀x∈l f(x)∈l и ∀x,y∈l f(x) ⊕ f(y) = f(x ⊕ y). Да се реализира функция is-em?, която проверява дали f е ендоморфизъм.

  ```scheme
  (is-em? '(0 1 4 6) + (lambda (x) (remainder x 3)))    ;; връща #t
  ```

3. [Примерна тема за контролно](https://learn.fmi.uni-sofia.bg/mod/page/view.php?id=110489)    
Да се напише функция (meet-twice? f g a b), която проверява дали в целочисления интервал [a, b] съществуват две различни цели числа x и y такива, че f(x) = g(x) и f(y) = g(y).

  ```scheme
  (meet-twice? (lambda (x) x) (lambda (x) (- x)) -3 1)  ;; връща #f
  (meet-twice? (lambda (x) x) sqrt 0 5)                 ;; връща #t
  ```

4. [Примерна тема за контролно](https://learn.fmi.uni-sofia.bg/mod/page/view.php?id=110489)   
Казваме, че списъкът x = (x1 x2 … x2n) от цели числа се получава от прочитането (look-and-say) на списъка y, ако y се състои от последователно срещане на x1 пъти x2, последвано от x3 пъти x4, и така нататък до x2n-1 пъти x2n. Да се дефинира функция next-look-and-say, която по даден списък y намира списъка x, получен от прочитането y.

  ```scheme
  (look-and-say '(1 1 2 3 3))    ;; връща ‘(2 1 1 2 2 3)
  ```

5. (Контролно по ФП, 2016/2017)  
Да се дефинира функция find-root от по-висок ред, която получава като аргумент тотална монотонна едноместна функция f с графика пресичаща абсцисата и намира корен на уравнението f(x) = 0 с точност 10^-6, т.е. намира число x, така че
| x – x0 | < 10^-6, където x0 е единственият корен на горното уравнение

  ```scheme
  (find-root (lambda (x) (- (* 3 x) 6))       ;; връща 2
  ```

6. (Контролно по ФП, 2015/2016)  
Да се напише функция (longest-descending­ l), която намира низходящо сортиран подсписък на списъка от числа l с максимална дължина. Ако съществуват няколко такива подсписъка, функцията да върне първия отляво надясно.
Упътване: Реализирайте помощна функция, която намира най-дългия низходящо сортиран префикс на даден списък.

  ```scheme
  (longest-descending­ '(5 3 8 6 4 2 6 7 1))    ;; връща (8 6 4 2)
  (longest-descending­ '(1 2 3 4 5 6))          ;; връща (1)
  ```

7. (Контролно по ФП, 2015/2016)  
Да се напише функция (max-unique ll), която по списък от списъци от цели числа намира най-голямото от тези от тях, които са уникални в рамките на списъка, в който се срещат. Ако в никой списък няма уникални числа, функцията да връща #f.

  ```scheme
  (max-unique '((1 2 3 2) (5 5) (0)))     ;; връща 3
  (max-unique '((1 2 1 2) (5 5) ()))      ;; връща #f
  ```

8. (Примерни задачи за първо контролно, 2015/2016)  
Да се напише функция (average f g), която по две числови функции
f : R → R и g : R → R  намира средно-аритметичната функция (f⊕g)(x) = (f(x) + g(x)) / 2.
С помощта на average да се напише функция от по-висок ред (calcprod f n), която намира произведението
∏(f ⊕ gi)(i), където gi(x) = i^x, i = 1...n .
Използването на accumulate е позволено, но не е задължително.
